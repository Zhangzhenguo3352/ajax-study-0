<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<form action="" id="form">
		<input type="text" name="username">
		<input type="text" name="password">
		<input type="button" value="提交" onclick="reg()">
	</form>
	<script>
		function strungify(form){
			var values = [];
			Array.prototype.forEach.call(form.elements,function(element){
				if(element.value == 'text'){
					values.push(element.name+'='+element.value)
				}
			})
			return values.join('&')
		}

		function reg(){
			
			//1 创建ajax 对象
				var xhr = new XMLHttpRequest();
				//2 初始化
				xhr.open('POST','/ajax',true);
				//3 注册回调监听
				xhr.onreadystatechange = function(){
					if(xhr.readyState == 4){
						console.log(xhr.status,xhr.statusText)
						console.log(xhr.responseText)   // 服务端 返回 过来数据
					}
				}
				//4	发送请求
	
				xhr.send(strungify(document.querySelector('#form')))
				
		}
		
	</script>
</body>
</html>